; RENEGADE DATA ONLY.ORG 0C000HLOAD 0C000HTUNES_A:DW TEST_ATUNES_B:DW TEST_BTUNES_C:DW TEST_CFX_TAB:DW SMELLDW CACKDW FLOORDW BIKESDW GUNDW SPLASH;--------------------------------------FOR:EQU 080HNEXT:EQU 081HLENGTH:EQU 082HSTOP:EQU 083HGOSUB:EQU 084HRETURN:EQU 085HTRANS:EQU 086HDISTORT:EQU 087HSEND:EQU 088HADSR:EQU 089HENVON:EQU 08AHWOBBLE:EQU 08BHPORT:EQU 08CHVIB:EQU 08DHIGNORE:EQU 08EHEFFECT:EQU 08FHGOTO:EQU GOSUB;======================================TEST_A:DB ADSR,000H,0FFH,1DB SEND,7,00001000BDB ENVON,1,8,48DB VIB,1,9,2,0DB ADSR,00FH,030H,0,8,48DB ADSR,0C0H,001H,1DB EFFECT,2,00000000BDW 700CYTA:DB FOR,16DB 8,12,20,12,GOSUBDW DRUMDB 20,6,20,12,20,6,23,6DB 23,6,GOSUBDW DRUMDB 18,12DB 8,6,8,6,20,12,GOSUBDW DRUMDB 20,6,20,6,18,12,15,6DB 15,6,GOSUBDW DRUMDB GOSUBDW DRUM2DB 18,6DB NEXTDB SEND,7,0DB VIB,1,28,0,1DB ADSR,0C0H,0,1DB SEND,6,10,FOR,4DB 44,5,42,5,42,5,NEXTDB ADSR,0C0H,001H,1DB 42,30,44,15DB 44,10,41,5,VIB,1,9,2,0DB SEND,7,8,SEND,6,25DB TRANS,3,FOR,12DB 8,15,20,10,18,5DB GOSUBDW MURDDB 20,5,18,10,8,15DB 18,5,20,10,20,5DB GOSUBDW MURDDB 20,5,18,10,15,5,NEXTDB TRANS,3,FOR,4DB 11,15,23,10,21,5DB GOSUBDW MURDDB 23,5,21,10,17,5,13,10DB 23,5,25,10,25,5DB GOSUBDW MURDDB 25,5,23,10,18,5DB 8,15,20,10,18,5DB GOSUBDW MURDDB 20,5,18,10,8,15DB 18,5,20,10,20,5DB GOSUBDW MURDDB 20,5,18,10,15,5,NEXTDB SEND,7,0,VIB,0,0,0,0DB ADSR,0C0H,001H,1DB FOR,2DB SEND,6,30,8,6DB SEND,6,1DB VIB,0,0,0,0,95,6,95,6DB 95,6,SEND,6,10DB VIB,1,28,0,1,44,12DB SEND,6,1DB VIB,0,0,0,0,95,6,95,6DB NEXTDB VIB,1,28,0,1,SEND,6,10DB FOR,16,44,6,NEXTDB VIB,1,9,2,0,TRANS,0DB SEND,7,56,SEND,6,25DB GOTODW CYTADB STOP;======================================TEST_B:DB ADSR,0C4H,000H,1,ENVON,1DB SEND,7,00010000BDB VIB,5,20,0,1DB EFFECT,1,00000000BDW 200DB FOR,5DB 90,6,90,12,90,12,90,6DB 90,6,90,12,90,6,90,12DB 90,12,90,6,90,6,NEXTDB VIB,6,20,0,0DB FOR,2DB 44,6,42,6,44,6,42,6DB 47,12,44,6,47,12,44,6DB 49,6,50,12,51,6,47,12DB 44,6,42,6,44,6,42,6DB 47,12,44,6,47,12,44,6DB 42,12,32,24DB NEXT,WOBBLE,1,5DB VIB,0,0,0,0,TRANS,7DB LENGTH,6,FOR,4DB 32,32,34,32,35,32,34,32DB 32,32,34,32,35,32,34,35DB NEXT,TRANS,0,LENGTH,0DB WOBBLE,0,0,VIB,7,2,3,0DB ADSR,0C0H,000H,1DB FOR,4,37,6,PORT,2DB 39,6,42,12,39,6DB 42,12,39,6,42,12,42,6DB 44,6,44,12,44,12,NEXTDB ADSR,0A0H,022H,1,PORT,0DB FOR,2DB 49,12,48,24,49,12,46,24DB 49,12,51,24,49,12,48,24DB 46,12,44,12,42,12DB NEXTDB WOBBLE,1,12DB FOR,2DB 49,12,48,24,49,12,46,24DB 49,12,51,24,49,12,48,24DB 46,12,44,12,42,12DB NEXT,WOBBLE,0,0DB ADSR,0A0H,02DH,1DB VIB,0,0,0,0,FOR,2DB 51,12,PORT,1,56,36DB PORT,0,WOBBLE,3,2DB 54,48,WOBBLE,3,1,53,48DB WOBBLE,3,5,51,48DB WOBBLE,0,0,NEXTDB FOR,2DB 59,12,PORT,1,56,36DB PORT,0,WOBBLE,3,2DB 54,48,WOBBLE,3,1,53,48DB WOBBLE,3,5,51,48DB WOBBLE,0,0,NEXT,56,48DB ADSR,080H,000H,1DB TRANS,244,FOR,36,PORT,0DB 84,1,PORT,3,71,9,NEXTDB ADSR,0A0H,003H,1,PORT,0DB WOBBLE,2,8,FOR,2DB 54,30,56,40,57,5,56,10DB 54,5,56,10,54,5DB 56,10,57,5,NEXT,TRANS,0DB FOR,2DB 54,30,56,40,57,5,56,10DB 54,5,56,10,54,5DB 56,10,57,5,NEXTDB FOR,2,WOBBLE,0,0DB 47,15,PORT,1,54,60DB PORT,0,52,5,54,5,52,5DB 57,5,23,10,DISTORT,2DB VIB,8,1,4,0,62,15DB DISTORT,0,VIB,0,0,0,0DB 59,15,PORT,1,66,60DB PORT,0,64,5,66,5,64,5DB 69,5,71,5,75,5,PORT,0DB WOBBLE,4,1,76,15DB WOBBLE,0,0,NEXTDB ADSR,0A0H,005H,1DB TRANS,0,FOR,2,DISTORT,0DB 59,10,57,5,62,10,59,5DB 64,5,65,5,64,5,62,10DB 59,5,64,5,65,5,69,5DB 71,10,76,5DB 75,30,TRANS,244,NEXTDB ADSR,0BAH,001H,1DB PORT,0,VIB,3,0,0,0DB WOBBLE,1,19,FOR,2DB 78,15,76,10,74,5,76,10DB 74,15,77,5,78,15DB 76,10,74,5,76,10,74,15DB 76,5,71,57,82,3,83,55DB 81,5,83,15,81,10,78,5DB 81,10,78,15,77,5,76,15DB 74,10,76,5,77,10,76,5DB 74,10,69,5,71,60,59,60DB TRANS,232,NEXT,TRANS,0DB ADSR,076H,0,1DB PORT,1,TRANS,0DB 82,48,20,48DB PORT,0,WOBBLE,0,0DB VIB,0,0,0,0DB GOTODW TEST_B;======================================TEST_C:DB STOP;======================================DRUM:DB SEND,7,0,VIB,1,28,0,1DB SEND,6,10DB IGNORE,44,12,VIB,1,9,2,0DB SEND,7,8,SEND,6,25DB RETURNDRUM2:DB SEND,7,0,VIB,1,28,0,1DB SEND,6,10DB IGNORE,44,6,VIB,1,9,2,0DB SEND,7,8,SEND,6,25DB RETURNMURD:DB SEND,7,0,VIB,1,28,0,1DB SEND,6,10DB IGNORE,44,10,VIB,1,9,2,0DB SEND,7,8,SEND,6,25DB RETURN;======================================; SOUND FXSMELL:DB 4DW SMELLYDB 255CACK:DB 4DW CACKYDB 255FLOOR:DB 4DW FELLDB 255BIKES:DB 2DW MOTORDB 255GUN:DB 4DW SHOTDB 255SPLASH:DB 4DW WETDB 255SMELLY:DB ADSR,0F0H,000H,1DB ENVON,1,EFFECT,0DB SEND,7,00000000BDB SEND,6,10,10,3DB WOBBLE,0,0,LENGTH,0DB ENVON,0,SEND,6,15,10,3DB SEND,7,28,ENVON,1DB ADSR,0,0,2,25,1DB STOPCACKY:DB ADSR,0F0H,0,1DB SEND,6,7,EFFECT,0DB SEND,7,00000100BDB VIB,1,50,0,1DB ENVON,1,25,5DB ADSR,0,0,2,25,1DB STOPFELL:DB ADSR,0F0H,0,1DB SEND,6,30DB SEND,7,00000000BDB VIB,0,0,0,0DB ENVON,1,25,5,25,5DB ADSR,0,0,2,25,1DB STOPMOTOR:DB ADSR,0DCH,0,1DB EFFECT,0,SEND,6,0DB SEND,7,00010000BDB VIB,1,4,0,0,ENVON,1MCYCLE:DB 6,120,ENVON,0DB VIB,1,4,0,0DB 2,120DB VIB,1,6,0,1DB 4,60DB VIB,1,7,0,0DB 3,110DB GOTODW MCYCLESHOT:DB ADSR,0F0H,0,2DB SEND,6,15DB SEND,7,00000100BDB VIB,0,0,0,0DB ENVON,1,25,2DB ADSR,0A0H,002H,1DB SEND,6,23,25,32DB ADSR,0,0,2DB 1,1DB STOPWET:DB ADSR,0F0H,002H,1DB SEND,7,00000100BDB VIB,0,0,0,0DB ENVON,1DB SEND,6,30,25,1DB SEND,6,28,25,1DB SEND,6,26,25,1DB SEND,6,24,25,1DB SEND,6,22,25,1DB SEND,6,20,25,1DB SEND,6,18,25,1DB SEND,6,16,25,1DB SEND,6,14,25,1DB SEND,6,12,25,1DB SEND,6,10,25,1DB SEND,6,8,25,1DB SEND,6,6,25,32DB ADSR,0,0,2,2,1DB STOPEND6,25,1DB SEND,6,14,25,1DB SEND,6,12,25,1DB SEND,6,10,25,1DB S7,00000100BDB VIB,0,0,0,0DB ENVON,1,25,2DB ADSR,0A0H,002H,1DB SEND,6,23,25,32DB ADSR,0,0,2DB 1,1DB STOPWET:DB ADSR,0F0H,002H,1DB SEND,7,00000100BDB VIB,0,0,0,0DB ENVON,1DB SEND,6,30,25,1DB SEND,6,28,25,1DB SEND,6,26,25,1DB SEND,6,24,25,1DB SEND,6,22,25,1DB SEND,6,20,25,1DB SEND,6,18,25,1DB SEND,6,16,25,1DB SEND,6,14,25,1DB SEND,6,12,25,1DB SEND,6,10,25,1DB S---------------------------; main routine, call once per frameREFRESH:CHANNEL_A:LD A,(STOP_A)OR AJP P,CHANNEL_BSTART_A:LD A,(A_STAGE_A)OR AJP NZ,TESTDEC_ALD HL,A_TIME_ADEC (HL)JP P,ENDADSR_ALD A,(A_ATT_A)LD (HL),ALD HL,VOLUME_AINC (HL)LD A,(HL)CP 15JP NZ,ENDADSR_ALD A,1LD (A_STAGE_A),ALD A,(A_DEC_A)LD (A_TIME_A),AJP ENDADSR_ATESTDEC_A:CP 1JP NZ,ENDADSR_ALD HL,A_TIME_ADEC (HL)JP P,ENDADSR_ALD A,(A_DEC_A)LD (HL),ALD A,(VOLUME_A)LD HL,A_SUS_ACP (HL)JP Z,SET_SUS_ADEC ALD (VOLUME_A),AJP P,ENDADSR_ASET_SUS_A:LD A,2LD (A_STAGE_A),AENDADSR_A:LD A,(VOLUME_A)LD C,ALD A,8CALL OUT_CA_AYTESTEFF_A:LD A,(E_TIME_A)OR AJP Z,TESTVIB_ALD A,(E_WAIT_A)OR AJP Z,TESTVIB_ADEC ALD (E_WAIT_A),AJP NZ,TSTCNT_ALD A,(FREQ_A)LD C,AXOR ACALL OUT_CA_AYLD A,(FREQ_A+1)LD C,ALD A,1CALL OUT_CA_AYLD A,(MEMGATE_A)LD (FLESH_A),ACALL OUT_FLESHTESTVIB_A:LD A,(V_DEL_A)OR AJP Z,TSTWOB_ALD A,(V_DEL1_A)OR AJP Z,VSTART_ADEC ALD (V_DEL1_A),AJP NZ,TSTWOB_AVSTART_A:LD HL,(FREQ_A)LD DE,(V_RATE_A)LD D,0LD A,(FLIP1_A)OR AJP Z,VIBDOWN_AVIBUP_A:ADD HL,DEJP VIBDONE_AVIBDOWN_A:SBC HL,DEVIBDONE_A:LD (FREQ_A),HLLD C,LXOR ACALL OUT_CA_AYLD C,HLD A,1CALL OUT_CA_AYVIBCNT_A:LD HL,V_LIM1_ADEC (HL)JP NZ,TSTPORT_ALD A,(V_LIM2_A)OR AJP Z,TSTPORT_AADD ALD (HL),ALD A,(FLIP1_A)CPLLD (FLIP1_A),AJP TSTPORT_ATSTWOB_A:LD A,(W_WAIT_A)OR AJP Z,TSTPORT_ADEC ALD (W_WAIT_A),AJP NZ,TSTPORT_ALD A,(W_DEL1_A)LD (W_WAIT_A),ALD A,(W_OFF_A)LD L,ALD A,(FLIP1_A)XOR 255LD (FLIP1_A),ALD A,(OLDNOTE_A)JP Z,WOBDOWN_AWOBUP_A:ADD LJP RESOUND_AWOBDOWN_A:SUB LPUSH AFLD A,(W_DEL2_A)LD (W_WAIT_A),APOP AFJP RESOUND_ATSTPORT_A:LD A,(PORT_A)OR AJP Z,TSTCNT_ALD HL,TARGET_ALD E,ALD A,(OLDNOTE_A)CP (HL)JP Z,TSTCNT_AJP C,GO_UP_ASUB ECP (HL)JP NC,RESOUND_AJP GOTHERE_AGO_UP_A:ADD ECP (HL)JP C,RESOUND_AGOTHERE_A:LD A,(HL)RESOUND_A:LD (OLDNOTE_A),AADD ALD E,ALD D,0LD HL,NOTESADD HL,DELD E,(HL)INC HLLD D,(HL)LD HL,(DISTORT_A)LD H,0ADD HL,DELD (FREQ_A),HLLD C,LXOR ACALL OUT_CA_AYLD C,HLD A,1CALL OUT_CA_AYTSTCNT_A:LD HL,COUNT_ADEC (HL)PUSH AF           ;*LD A,(ENDIT_A)  ;*CP (HL)         ;*LD HL,GATE_A    ;*JR Z,NOGATE_A   ;*LD A,(HL)       ;*OR A            ;*JP NZ,NOTYET_A  ;*NOGATE_A:LD A,00001001BLD (FLESH_A),A  ;*CALL OUT_FLESH    ;*INC (HL)         ;*NOTYET_A:DEC (HL)         ;*POP AF           ;*JP NZ,CHANNEL_BLD BC,(PC_A)DO_A:LD A,(BC)INC BCOR AJP P,GOTNOTE_ACOMMAND_A:AND 127ADD ALD E,ALD D,0LD HL,JUMP_AADD HL,DELD E,(HL)INC HLLD D,(HL)EX DE,HLJP (HL)GOTNOTE_A:LD L,ALD A,(IGNORE_A)OR AJP Z,NOTEOK_AXOR ALD (IGNORE_A),AJP NOTRANS_ANOTEOK_A:LD A,(TRANS_A)NOTRANS_A:ADD LLD L,ALD A,(PORT_A)OR ALD A,LJP Z,NOPORT_ALD (TARGET_A),ALD A,(OLDNOTE_A)NOPORT_A:LD (OLDNOTE_A),AADD APUSH BCLD E,ALD D,0LD HL,NOTESADD HL,DELD E,(HL)INC HLLD D,(HL)LD HL,(DISTORT_A)LD H,0ADD HL,DELD (FREQ_A),HLLD C,LXOR ACALL OUT_CA_AYLD C,HLD A,1CALL OUT_CA_AYPOP BCLD A,(LENGTH_A)OR AJP NZ,GOTLEN_ALD A,(BC)INC BCGOTLEN_A:LD (COUNT_A),ALD (PC_A),BCLD A,(W_DEL1_A)LD (W_WAIT_A),ALD A,(GATERES_A)LD (GATE_A),ALD A,(MEMGATE_A)LD (FLESH_A),ACALL OUT_FLESHSTARTVIBA:LD A,(V_DEL_A)OR AJP Z,SETFLIP_ALD (V_DEL1_A),ALD A,(V_LIM2_A)LD (V_LIM1_A),ALD A,(V_DIR_A)SETFLIP_A:LD (FLIP1_A),ASTARTENVA:LD A,(A_CONT_A)OR AJP Z,STARTEFFALD A,(A_CYC_A)LD (A_STAGE_A),AOR ALD A,(A_ATT_A)JP Z,STARTAT_ALD A,(A_DEC_A)STARTAT_A:LD (A_TIME_A),ALD A,(A_INIT_A)LD (VOLUME_A),ASTARTEFFA:LD A,(E_TIME_A)OR AJP Z,CHANNEL_BLD (E_WAIT_A),ALD A,(E_BITS_A)LD (FLESH_A),ACALL OUT_FLESHLD A,(E_FREQ_A)LD C,AXOR ACALL OUT_CA_AYLD A,(E_FREQ_A+1)LD C,ALD A,1CALL OUT_CA_AYCHANNEL_B:LD A,(STOP_B)OR AJP P,CHANNEL_CSTART_B:LD A,(A_STAGE_B)OR AJP NZ,TESTDEC_BLD HL,A_TIME_BDEC (HL)JP P,ENDADSR_BLD A,(A_ATT_B)LD (HL),ALD HL,VOLUME_BINC (HL)LD A,(HL)CP 15JP NZ,ENDADSR_BLD A,1LD (A_STAGE_B),ALD A,(A_DEC_B)LD (A_TIME_B),AJP ENDADSR_BTESTDEC_B:CP 1JP NZ,ENDADSR_BLD HL,A_TIME_BDEC (HL)JP P,ENDADSR_BLD A,(A_DEC_B)LD (HL),ALD A,(VOLUME_B)LD HL,A_SUS_BCP (HL)JP Z,SET_SUS_BDEC ALD (VOLUME_B),AJP P,ENDADSR_BSET_SUS_B:LD A,2LD (A_STAGE_B),AENDADSR_B:LD A,(VOLUME_B)LD C,ALD A,9CALL OUT_CA_AYTESTEFF_B:LD A,(E_TIME_B)OR AJP Z,TESTVIB_BLD A,(E_WAIT_B)OR AJP Z,TESTVIB_BDEC AHD )˜  ‡¡”Ï8CçÈ@`ÀÂ Î@ÀxÌçÏ áÌBL a8ÌçÎ Ï8ÌçÏ âxÈçÈ  À 8ÌçÏ áÌBL `#!8ÌçÎ Ï8ÌçÏ â8ÈçÈ  À 8ÌçÏ áÈ Ì a8ÌçáÌHÌ	Àa Ï8ÈçÈ  ÀHÌ	ø Ì ÀI@`HÌçÏ áÀ@ÌÀa8gÏ8CçÀ`ÀÂ À@xÌçÏ áÀ@Ìã a8gÏ8CçÀ`ÀB ART_BDEC ALD (V_DEL1_B),AJP NZ,TSTWOB_BVSTART_B:LD HL,(FREQ_B)LD DE,(V_RATE_B)LD D,0LD A,(FLIP1_B)OR AJP Z,VIBDOWN_BVIBUP_B:ADD HL,DEJP VIBDONE_BVIBDOWN_B:SBC HL,DEVIBDONE_B:LD (FREQ_B),HLLD C,LLD A,2CALL OUT_CA_AYLD C,HLD A,3CALL OUT_CA_AYVIBCNT_B:LD HL,V_LIM1_BDEC (HL)JP NZ,TSTPORT_BLD A,(V_LIM2_B)OR AJP Z,TSTPORT_BADD ALD (HL),ALD A,(FLIP1_B)CPLLD (FLIP1_B),AJP TSTPORT_BTSTWOB_B:LD A,(W_WAIT_B)OR AJP Z,TSTPORT_BDEC ALD (W_WAIT_B),AJP NZ,TSTPORT_BLD A,(W_DEL1_B)LD (W_WAIT_B),ALD A,(W_OFF_B)LD L,ALD A,(FLIP1_B)XOR 255LD (FLIP1_B),ALD A,(OLDNOTE_B)JP Z,WOBDOWN_BWOBUP_B:ADD LJP RESOUND_BWOBDOWN_B:SUB LPUSH AFLD A,(W_DEL2_B)LD (W_WAIT_B),APOP AFJP RESOUND_BTSTPORT_B:LD A,(PORT_B)OR AJP Z,TSTCNT_BLD HL,TARGET_BLD E,ALD A,(OLDNOTE_B)CP (HL)JP Z,TSTCNT_BJP C,GO_UP_BSUB ECP (HL)JP NC,RESOUND_BJP GOTHERE_BGO_UP_B:ADD ECP (HL)JP C,RESOUND_BGOTHERE_B:LD A,(HL)RESOUND_B:LD (OLDNOTE_B),AADD ALD E,ALD D,0LD HL,NOTESADD HL,DELD E,(HL)INC HLLD D,(HL)LD HL,(DISTORT_B)LD H,0ADD HL,DELD (FREQ_B),HLLD C,LLD A,2CALL OUT_CA_AYLD C,HLD A,3CALL OUT_CA_AYTSTCNT_B:LD HL,COUNT_BDEC (HL)PUSH AF           ;*LD A,(ENDIT_B)  ;*CP (HL)         ;*LD HL,GATE_B    ;*JR Z,NOGATE_B   ;*LD A,(HL)       ;*OR A            ;*JP NZ,NOTYET_B  ;*NOGATE_B:LD A,00010010BLD (FLESH_B),ACALL OUT_FLESHINC (HL)         ;*NOTYET_B:DEC (HL)         ;*POP AF           ;*JP NZ,CHANNEL_CLD BC,(PC_B)DO_B:LD A,(BC)INC BCOR AJP P,GOTNOTE_BCOMMAND_B:AND 127ORG 50000LOAD 0C000HTUNES:EQU 1EFFECTS:EQU 6;--------------------------------------DW CALCDB TUNESDB EFFECTS;--------------------------------------DATA_TOP:TUNES_A:DW TEST_ADW 1DW 2DW 3DW 4DW 5DW 6DW 7DW 8DW 9TUNES_B:DW TEST_BDW 1DW 2DW 3DW 4DW 5DW 6DW 7DW 8DW 9TUNES_C:DW TEST_CDW 1DW 2DW 3DW 4DW 5DW 6DW 7DW 8DW 9FX_TAB:DW SMELLDW CACK;--------------------------------------FOR:EQU 080HNEXT:EQU 081HLENGTH:EQU 082HSTOP:EQU 083HGOSUB:EQU 084HRETURN:EQU 085HTRANS:EQU 086HDISTORT:EQU 087HSEND:EQU 088HADSR:EQU 089HENVON:EQU 08AHWOBBLE:EQU 08BHPORT:EQU 08CHVIB:EQU 08DHIGNORE:EQU 08EHEFFECT:EQU 08FHGOTO:EQU 090H;======================================DATA_BOT:CALC:EQU DATA_BOT-DATA_TOPENDGNORE:EDW 2DW 3DW 4DW 5DW 6DW 7DW 8DW 9TUNES_C:DW TEST_CDW 1DW 2DW 3DW 4DW 5DW 6DW 7DW 8DW 9FX_TAB:DW SMELLDW CACK;--------------------------------------FOR:EQU 080HNEXT:EQU 081HLENGTH:EQU 082HSTOP:EQU 083HGOSUB:EQU 084HRETURN:EQU 085------------------------------JUMP_A:DW A_FORDW A_NEXTDW A_LENGTHDW A_STOPDW A_GOSUBDW A_RETURNDW A_TRANSDW A_DISTORTDW A_SENDDW A_ADSRDW A_ENVONDW A_WOBBLEDW A_PORTDW A_VIBRATODW A_IGNOREDW A_EFFECT;--------------------------------------A_FOR:LD A,(BC)LD (REPEAT_A),AINC BCLD (STACK_A),BCJP DO_AA_NEXT:LD HL,REPEAT_ADEC (HL)JP Z,DO_ALD BC,(STACK_A)JP DO_AA_LENGTH:LD A,(BC)LD (LENGTH_A),AINC BCJP DO_AA_STOP:LD HL,STOP_AINC (HL)JP CHANNEL_BA_GOSUB:LD A,(BC)LD E,AINC 